<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Functions/FormValidator.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Functions/FormValidator.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import store from "../app/store";
import { ADD_EMPLOYEE } from "../features/addEmployeesSlice";
import { displayModal } from "./DisplayModal";
import { states } from "../Data/States";

/**
 * Form Validator play when the user click on submit in form
 */

export const stringRegex = /^[A-Za-z]+$/;
export const numberRegex = /^[0-9]+$/;
export const streetRegex = /^[0-9a-zA-Z_]+$/;

export const formValidator = async () => {
	const statesValue = await document.querySelector(
		"#states .react-select__single-value"
	);
	let state; // State abbreviation for push in table
	if (statesValue) {
		states.forEach((e) =>
			statesValue.textContent === e.value ? (state = e.abbreviation) : ""
		); // If statesValue(In form) matches with states.value (In datas) i push the abbreviation in state variable.
	}
	const dateOfBirth = document.querySelector(".date-of-birth").value;
	const startDate = document.querySelector(".start-date").value;
	const firstName = document.querySelector("#first-name").value;
	const lastName = document.querySelector("#last-name").value;
	const street = document.querySelector("#street").value;
	const city = document.querySelector("#city").value;
	const zipCode = document.querySelector("#zip-code").value;
	const department = document.querySelector(
		"#departments .react-select__single-value"
	);

	if (statesValue == null) {
		document.querySelector(".states-error").style.display = "block";
	} else {
		document.querySelector(".states-error").style.display = "none";
	}

	if (department == null) {
		document.querySelector(".departments-error").style.display = "block";
	} else {
		document.querySelector(".departments-error").style.display = "none";
	}

	if (!numberRegex.test(zipCode)) {
		document.querySelector(".zip-code-error").style.display = "block";
	} else {
		document.querySelector(".zip-code-error").style.display = "none";
	}

	if (!stringRegex.test(firstName)) {
		document.querySelector(".first-name-error").style.display = "block";
	} else {
		document.querySelector(".first-name-error").style.display = "none";
	}

	if (!stringRegex.test(lastName)) {
		document.querySelector(".last-name-error").style.display = "block";
	} else {
		document.querySelector(".last-name-error").style.display = "none";
	}

	if (!stringRegex.test(street)) {
		document.querySelector(".street-error").style.display = "block";
	} else {
		document.querySelector(".street-error").style.display = "none";
	}

	if (!stringRegex.test(city)) {
		document.querySelector(".city-error").style.display = "block";
	} else {
		document.querySelector(".city-error").style.display = "none";
	}

	if (startDate === "") {
		document.querySelector(".start-date-error").style.display = "block";
	} else {
		document.querySelector(".start-date-error").style.display = "none";
	}

	if (dateOfBirth === "") {
		document.querySelector(".date-of-birth-error").style.display = "block";
	} else {
		document.querySelector(".date-of-birth-error").style.display = "none";
	}

	if (
		stringRegex.test(firstName) &amp;&amp;
		stringRegex.test(lastName) &amp;&amp;
		streetRegex.test(street) &amp;&amp;
		stringRegex.test(city) &amp;&amp;
		numberRegex.test(zipCode) &amp;&amp;
		statesValue !== null &amp;&amp;
		department !== null &amp;&amp;
		dateOfBirth !== "" &amp;&amp;
		startDate !== ""
	) {
		store.dispatch(
			ADD_EMPLOYEE([
				{
					firstName,
					lastName,
					startDate,
					street,
					state,
					city,
					zipCode,
					dateOfBirth,
					department: department.textContent,
				},
			])
		);

		displayModal();
	}
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ADD_EMPLOYEE">ADD_EMPLOYEE</a></li><li><a href="global.html#changeBackground">changeBackground</a></li><li><a href="global.html#CreateEmployee">CreateEmployee</a></li><li><a href="global.html#CurrentEmployees">CurrentEmployees</a></li><li><a href="global.html#Date">Date</a></li><li><a href="global.html#displayModal">displayModal</a></li><li><a href="global.html#Errors">Errors</a></li><li><a href="global.html#Form">Form</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#Input">Input</a></li><li><a href="global.html#NotFound">NotFound</a></li><li><a href="global.html#persistConfig">persistConfig</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#stringRegex">stringRegex</a></li><li><a href="global.html#Table">Table</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue May 24 2022 08:23:35 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
